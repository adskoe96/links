<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>AdskLinks</title>
    <style>
        #orientationWarning {
            display: none;
        }
    </style>
</head>
<body style="text-align: center; padding: 0; border: 0; margin: 0;">
    <div id="orientationWarning">Пожалуйста, поверните устройство в ландшафтный режим.</div>
    <canvas id="unity-canvas" width="100%" height="100%" style="display: none; background: #000000"></canvas>

    <script src="Build/release.loader.js"></script>
    <script>
        function isMobile() {
            return /Mobi|Android/i.test(navigator.userAgent);
        }

        function checkOrientation() {
            if (!isMobile()) {
                document.getElementById('orientationWarning').style.display = 'none';
                document.getElementById('unity-canvas').style.display = 'block';
                startGame();
                return;
            }
            
            if (window.orientation === 0 || window.orientation === 180) {
                document.getElementById('orientationWarning').style.display = 'block';
                document.getElementById('unity-canvas').style.display = 'none';
            } else {
                document.getElementById('orientationWarning').style.display = 'none';
                document.getElementById('unity-canvas').style.display = 'block';
                startGame();
            }
        }

        function startGame() {
            createUnityInstance(document.querySelector("#unity-canvas"), {
                dataUrl: "Build/release.data",
                frameworkUrl: "Build/release.framework.js",
                codeUrl: "Build/release.wasm",
                streamingAssetsUrl: "StreamingAssets",
                companyName: "adsk",
                productName: "AdskLinks",
                productVersion: "0.1",
            });
        }

        window.onload = function () {
            checkOrientation();
            if (isMobile()) {
                window.addEventListener("orientationchange", checkOrientation);
            }
        };

        var meta = document.createElement('meta');
        meta.name = 'viewport';
        meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes';
        document.getElementsByTagName('head')[0].appendChild(meta);
    </script>
</body>
</html>
